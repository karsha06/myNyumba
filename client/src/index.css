/* Import Leaflet CSS */
@import url('https://unpkg.com/leaflet@1.9.4/dist/leaflet.css');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }

  html {
    -webkit-text-size-adjust: 100%; /* Prevent font scaling in landscape on iOS */
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    overscroll-behavior-y: none; /* Prevent pull-to-refresh on mobile */
  }

  /* Leaflet custom marker styles */
  .custom-marker {
    background: transparent;
    border: none;
  }
}

@layer components {
  /* Mobile-specific styles */
  .touch-feedback {
    -webkit-tap-highlight-color: transparent;
    cursor: pointer;
    user-select: none;
    touch-action: manipulation;
  }

  /* Android-specific adjustments */
  @supports (-webkit-touch-callout: none) and (not (translate: none)) {
    /* Target Android but not iOS */
    input, textarea, select {
      font-size: 16px; /* Prevent zoom on focus */
    }
    
    /* Better scroll momentum for Android */
    .android-scroll {
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
    }
  }

  /* Make buttons and interactive elements bigger on mobile */
  @media (max-width: 768px) {
    .btn-mobile, 
    button,
    [role="button"] {
      @apply min-h-[48px] px-4; /* 48px is Google's recommended touch target size */
    }
    
    select, input[type="checkbox"], input[type="radio"] {
      @apply min-h-[48px] min-w-[48px];
    }
    
    /* Fix for Android input fields */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    input[type="search"],
    input[type="tel"],
    textarea {
      @apply appearance-none;
      border-radius: 0; /* Remove default radius on Android */
      -webkit-appearance: none; /* Remove default styling */
    }
  }

  /* Improve performance for animations on mobile */
  .mobile-optimize {
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Add safe areas for notched devices */
  .top-safe-area {
    padding-top: env(safe-area-inset-top, 0);
  }

  .bottom-safe-area {
    padding-bottom: calc(env(safe-area-inset-bottom, 0.5rem) + 0.5rem);
  }
  
  /* Adjust main content for bottom navigation */
  .pb-mobile-nav {
    padding-bottom: 4.5rem;
  }
  
  /* Fix for property cards on small screens */
  @media (max-width: 640px) {
    .property-card {
      @apply w-full;
    }
  }
  
  /* Active states for Android touch feedback */
  @media (hover: none) {
    .touch-active:active {
      @apply bg-opacity-80 transition-colors duration-100;
    }
  }
}